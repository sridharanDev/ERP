<div class="card">
    <div class="card-header">
        <h5 class="card-title mb-0">Edit admin role</h5>
    </div>
    <div class="card-body">
        <form (ngSubmit)="submitData()">
            <div class="row g-2 mb-3">
                <div class="col-6">
                    <div class="form-group">
                        <label for="">Role name</label>
                        <input type="text" class="form-control"  name="roleName" [(ngModel)]="roleName">

                    </div>
                </div>
                <div class="col-6">
                    <button class="btn btn-warning" type="submit" style="margin-top: 20px;">Update</button>
                </div>
            </div>
            <table id="zero_config" class="table table-striped table-bordered">
                <thead class="">
                    <tr>
                        <th [width]="20">#</th>
                        <th>Module</th>
                        <th [width]="70">Read</th>
                        <th [width]="70">Write</th>
                        <th [width]="70">Edit</th>
                        <th [width]="70">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let module of allModules;index as i;">
                        <td style="text-align:center;" >
                            <input class="form-check-input" id="{{module.name}}" type="checkbox"  (change)="toggleModuleSelection(i)" [checked]="module.selected">
                        </td>
                        <td><label for="{{module.name}}">{{module.name}}</label></td>
                        <td style="text-align:center;" >
                            <input class="form-check-input" id="read_{{i}}" type="checkbox" [checked]="module.permissions.includes('read')" (change)="togglePermission('read', i)" [disabled]="!module.selected">
                        </td>
                        <td style="text-align:center;">
                            <input class="form-check-input" id="write_{{i}}" type="checkbox" [checked]="module.permissions.includes('write')" (change)="togglePermission('write', i)" [disabled]="!module.selected">
                        </td>
                        <td style="text-align:center;">
                            <input class="form-check-input" id="edit_{{i}}" type="checkbox" [checked]="module.permissions.includes('edit')" (change)="togglePermission('edit', i)" [disabled]="!module.selected">
                        </td>
                        <td style="text-align:center;">
                            <input class="form-check-input" id="delete_{{i}}" type="checkbox" [checked]="module.permissions.includes('delete')" (change)="togglePermission('delete', i)" [disabled]="!module.selected">
                        </td>
                    </tr>
                </tbody>
                
            </table>
        </form>
    </div>
</div>

<app-loading *ngIf="isLoading"></app-loading>